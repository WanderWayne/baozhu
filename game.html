<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>宝珠酿造 - 游戏</title>
    <link rel="stylesheet" href="css/game.css">
    <link rel="stylesheet" href="css/transitions.css">
</head>
<body>
    <!-- 奶雾粒子背景 -->
    <div class="milk-fog-container">
        <div class="milk-fog-particle"></div>
        <div class="milk-fog-particle"></div>
        <div class="milk-fog-particle"></div>
        <div class="milk-fog-particle"></div>
        <div class="milk-fog-particle"></div>
        <div class="milk-fog-particle"></div>
        <div class="milk-fog-particle"></div>
        <div class="milk-fog-particle"></div>
    </div>

    <!-- 第一关教学动画覆盖层 -->
    <div id="tutorial-overlay" class="tutorial-overlay hidden">
        <div class="tutorial-content">
            <div class="tutorial-door-spotlight">
                <div class="tutorial-door-container">
                    <div class="tutorial-door-aura"></div>
                    <div class="tutorial-door-frame">
                        <div class="tutorial-door-glow">
                            <div class="tutorial-door-fog"></div>
                            <div class="tutorial-door-icon" id="tutorial-door-icon">🍨</div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="tutorial-text-container">
                <div class="tutorial-text tutorial-text-1">打开这扇门</div>
                <div class="tutorial-text tutorial-text-2">
                    <span class="tutorial-hint-icon">💡</span>
                    <span>将物品拖拽合成，做出<span class="highlight" id="tutorial-target-name">冰酥酪</span></span>
                </div>
            </div>
            
            <div class="tutorial-skip-btn" id="tutorial-skip-btn">点击继续</div>
        </div>
    </div>

    <!-- 顶部目标门区域 -->
    <div id="door-area">
        <button class="back-btn" id="back-btn">←</button>
        
        <!-- 身份铭牌 -->
        <div class="identity-plaque" id="identity-plaque">
            <span class="identity-icon">🌱</span>
            <span class="identity-title">寻味者</span>
        </div>
        
        <div class="door-container stage-0" id="door-container">
            <div class="door-aura"></div>
            <div class="door-frame">
                <div class="door-glow">
                    <div class="door-fog"></div>
                    <div class="door-target-silhouette" id="door-icon">🍨</div>
                </div>
            </div>
            <div class="door-offer-hint">献上</div>
        </div>
        
        <div class="level-info">
            <div class="level-name" id="level-name">冰酥门廊</div>
            <div class="level-target-display" id="level-target">
                <span class="target-label">目标</span>
                <span class="target-name" id="target-name">冰酥酪</span>
            </div>
        </div>
        
        <div class="door-status" id="door-status"></div>
    </div>

    <!-- 合成工作台区域 -->
    <div id="synthesis-area">
        <div class="workbench-texture"></div>
        <!-- 拖拽的元素会放在这里 -->
    </div>

    <!-- 底部原料带 -->
    <div id="inventory-area">
        <!-- 由JS动态生成 -->
    </div>

    <!-- 基础关卡完成画面 -->
    <div id="basic-completion-overlay" class="basic-completion-overlay hidden">
        <div class="completion-content">
            <!-- 第一阶段：完成信息 -->
            <div class="completion-section completion-stats">
                <h2 class="completion-title">✨ 你已完成所有基础关卡 ✨</h2>
                
                <div class="stats-row">
                    <span class="stats-label">耗时</span>
                    <span class="stats-value" id="completion-time">--分--秒</span>
                    <span class="speed-badge" id="speed-badge">
                        <span class="speed-icon">⚡</span>
                        <span class="speed-name">闪电</span>
                    </span>
                </div>
                
                <div class="stats-row">
                    <span class="stats-label">探索了宝珠</span>
                    <span class="stats-value" id="completion-progress">--</span>
                    <span class="stats-percent">%</span>
                </div>
            </div>
            
            <!-- 第二阶段：领取奖励按钮 -->
            <div class="completion-section completion-reward-btn">
                <button class="claim-reward-btn" id="claim-reward-btn">
                    <span class="btn-glow"></span>
                    <span class="btn-text">领取奖励</span>
                </button>
            </div>
            
            <!-- 第三阶段：奖励展示（初始隐藏） -->
            <div class="completion-section completion-reward-display hidden" id="reward-display">
                <div class="reward-label">你已获得</div>
                <div class="reward-content">
                    <div class="title-upgrade">
                        <span class="old-title" id="old-title">
                            <span class="title-icon">🌱</span>
                            <span class="title-name">酿造学徒</span>
                        </span>
                        <span class="upgrade-arrow">→</span>
                        <span class="new-title" id="new-title">
                            <span class="title-icon">🌿</span>
                            <span class="title-name">初级酿造师</span>
                        </span>
                    </div>
                </div>
            </div>
            
            <!-- 第四阶段：继续提示（初始隐藏） -->
            <div class="completion-section completion-continue hidden" id="continue-section">
                <div class="continue-message">
                    <p>前方的迷雾正在散去，</p>
                    <p>更深的酿造秘境在等待着你......</p>
                </div>
                
                <div class="continue-buttons">
                    <button class="continue-btn primary" id="continue-explore-btn">继续探索</button>
                    <button class="continue-btn secondary" id="rest-btn">暂时休息</button>
                </div>
            </div>
        </div>
    </div>

    <!-- 脚本引入 -->
    <!-- 音频管理器 -->
    <script src="js/audio-manager.js"></script>
    
    <!-- 数据模块 -->
    <script src="js/data/data-worlds.js"></script>
    <script src="js/data/data-items.js"></script>
    <script src="js/data.js"></script>
    
    <script src="js/level.js"></script>
    <script src="js/synthesis.js"></script>
    <script src="js/drag-drop.js"></script>
    
    <!-- 游戏模块 -->
    <script src="js/game/game-core.js"></script>
    <script src="js/game/game-synthesis.js"></script>
    <script src="js/game/game-ui.js"></script>
    <script src="js/game.js"></script>
    
    <!-- 页面过渡系统 -->
    <script src="js/page-transitions.js"></script>
</body>
</html>
